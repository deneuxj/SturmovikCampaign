Installation
------------

Create a directory where to host the plug-in for SturmovikServerControl, e.g. C:\Campaign\Bin\

Create a directory where to host the campaign database, e.g. C:\Campaign\Data\

Create a directory where the mission files will be generated, inside the campaign database directory: C:\Campaign\Data\Multiplayer\Dogfight.

Extract campaign plugin in C:\Campaign\Bin\

Copy C:\Campaign\Bin\SampleConfig.yaml to some other file (e.g. Config.yaml)

Edit Config.yaml to suit your needs

Create a SDS configuration file for dserver, set the mission length duration to MissionLength in Config.yaml + 10min
For the default three hours that (180 + 10) * 60 = 11400.
Set a rotation of two missions: DynCampaign_1 and DynCampaign_2.
Set lockPayloads = 1.

Set the name of the SDS configuration file in Config.yaml, see ServerSdsFile.

If it's running, stop SturmovikServerControl.exe.

Edit the configuration file of SturmovikServerControl to point at the plugin you just installed.
In the server instance you want to use:

      CampaignPluginAssembly: C:\Campaign\Bin\Campaign.dll
      CampaignPluginType: Campaign.ServerControlPlugin.Plugin
      CampaignPluginConfig: C:\Campaign\Bin\Config.yaml

Note: Casing is sensitive in the value of CampaignPluginType.

If it's running, close DServer.exe.

Start SturmovikServerControl.exe

In the web browser, log in, go to schedule, add an event "Reset campaign"

WARNING: this will erase your server game logs (files in C:\il2\data\logs).

If all goes well, campaign initialization should take about 5 minutes, then DServer.exe starts.
